<h1 class="text-center">Location Indexer</h1><br><br>

<div class="pull-right">
    <%= render partial: 'buttons' %>
</div><br><br>

<%= form_tag "/indexer_locations", method: :get, class: 'form-inline'  do %>
<table class="table table-bordered table-hover">
    <thead>
        <tr>
            <th><%= check_box_tag 'check_all', 'check_all', false, onClick: 'checkAll(this);' %></th>
            <th>#</th>
            <th><%= render partial: 'layouts/text_field_tag', locals: { col: :indexer_status } %> Indexer status</th>
            <th><%= render partial: 'layouts/text_field_tag', locals: { col: :sfdc_acct } %> SFDC acct</th>
            <th><%= render partial: 'layouts/text_field_tag', locals: { col: :sfdc_group_name } %> SFDC group name</th>
            <th><%= render partial: 'layouts/text_field_tag', locals: { col: :sfdc_ult_acct } %> SFDC ult acct</th>
            <th><%= render partial: 'layouts/text_field_tag', locals: { col: :domain } %> Domain</th>
            <th><%= render partial: 'layouts/text_field_tag', locals: { col: :ip } %> IP</th>
            <th><%= render partial: 'layouts/text_field_tag', locals: { col: :text } %> Text</th>
            <th><%= render partial: 'layouts/text_field_tag', locals: { col: :href } %> Href</th>
            <th><%= render partial: 'layouts/text_field_tag', locals: { col: :link } %> Staff link</th>
            <th><%= render partial: 'layouts/text_field_tag', locals: { col: :sfdc_id } %> SFDC ID</th>
            <th><%= render partial: 'layouts/text_field_tag', locals: { col: :indexer_timestamp } %> Indexer timestamp</th>
            <th colspan="3"></th>
        </tr>
    </thead>

    <tbody>
        <% num = 0 %>
        <% @indexer_locations.each do |indexer_location| %>
        <tr>
            <td><%= check_box_tag "multi_checks[]",  indexer_location.id %></td>
            <% num +=1 %>
            <td><%= num %></td>
            <td><%= indexer_location.indexer_status %></td>
            <td><%= indexer_location.sfdc_acct %></td>
            <td><%= indexer_location.sfdc_group_name %></td>
            <td><%= indexer_location.sfdc_ult_acct %></td>
            <td><%= link_to indexer_location.domain, indexer_location.domain, :target => "_blank" %></td>
            <td><%= indexer_location.ip %></td>
            <td><%= indexer_location.text %></td>
            <td><%= indexer_location.href %></td>
            <td><%= link_to indexer_location.link, indexer_location.link, :target => "_blank" %></td>
            <td><%= indexer_location.sfdc_id %></td>
            <td><%= indexer_location.indexer_timestamp %></td>
            <td><%= link_to 'Show', indexer_location %></td>
            <td><%= link_to 'Edit', edit_indexer_location_path(indexer_location) %></td>
            <td><%= link_to 'Destroy', indexer_location, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        </tr>
        <% end %>
    </tbody>
</table>

<div class="pull-left">
    <%= select_tag :selected_status, options_for_select(indexer_status_list), include_blank: '-- Update Status --', class: 'selectpicker' %>
    <%= submit_tag "Submit", class: 'btn btn-success' %>
</div>
<% end %>

<div class="pull-right">
    <%= render partial: 'buttons' %>
</div></br></br>
