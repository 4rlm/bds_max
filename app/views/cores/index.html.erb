<p id="notice"><%= notice %></p>

<h1 class="text-center">Core</h1>

<!-- Testing CSV Import Links/Buttons: -->
<div class="pull-right margin-bottom">
  <%= link_to 'Import a CSV File', core_import_page_path, class: 'btn btn-primary' %>
  <%#= link_to 'Create New Fruit Data', new_fruit_path, class: 'btn btn-success' %>
</div>

<%= form_tag "/cores", method: :get, class: 'form-inline'  do %>
<table class="table">
    <thead>
        <tr>
            <div class="form-group">
                <%= select_tag :columns, options_for_select(column_list_core, params[:columns]), title: 'Exclude Columns', multiple: true, class: 'selectpicker' %>
            </div>
        </tr>
        <tr>
            <th>
                <%= check_box_tag 'check_all', 'check_all', false, onClick: 'checkAll(this);' %>
            </th> <!-- add -->
            <% unless @col_bds_status %>
            <th>
                <div class="form-group">
                    <%= select_tag :bds_status, options_for_select(@selected_data.select(:bds_status).map(&:bds_status).uniq, params[:bds_status]), include_blank: "-- Select --", multiple: true, class: 'selectpicker' %>
                    <br><br>BDS Status
                </div>
            </th>
            <% end %>
            <% unless @col_sfdc_id %>
            <th>
                <div class="form-group">
                    <%= text_field_tag :sfdc_id, params[:sfdc_id], placeholder: "-- Enter Keyword --", class: 'form-control' %>
                    <br><br>SFDC ID
                </div>
            </th>
            <% end %>
            <% unless @col_sfdc_ult_grp %>
            <th>
                <div class="form-group">
                    <%= select_tag :sfdc_ult_grp, options_for_select(blank_remover(@selected_data.select(:sfdc_ult_grp).map(&:sfdc_ult_grp).uniq), params[:sfdc_ult_grp]), include_blank: "-- Select --", multiple: true, class: 'selectpicker' %>
                    <br><br>SFDC Ult Acct
                </div>
            </th>
            <% end %>
            <% unless @col_sfdc_acct %>
            <th>
                <div class="form-group">
                    <%= text_field_tag :sfdc_acct, params[:sfdc_acct], placeholder: "-- Enter Keyword --", class: 'form-control'  %>
                    <br><br>SFDC Acct
                </div>
            </th>
            <% end %>
            <% unless @col_sfdc_type %>
            <th>
                <div class="form-group">
                    <%= select_tag :sfdc_type, options_for_select(@selected_data.select(:sfdc_type).map(&:sfdc_type).uniq, params[:sfdc_type]), include_blank: "-- Select --", multiple: true, class: 'selectpicker' %>
                    <br><br>SFDC Type
                </div>
            </th>
            <% end %>
            <% unless @col_sfdc_street %>
            <th>
                <div class="form-group">
                    <%= text_field_tag :sfdc_street, params[:sfdc_street], placeholder: "-- Enter Keyword --", class: 'form-control' %>
                    <br><br>SFDC Street
                </div>
            </th>
            <% end %>
            <% unless @col_sfdc_city %>
            <th>
                <div class="form-group">
                    <%= select_tag :sfdc_city, options_for_select(@selected_data.select(:sfdc_city).map(&:sfdc_city).uniq, params[:sfdc_city]), include_blank: "-- Select --", multiple: true, class: 'selectpicker' %>
                    <br><br>SFDC City
                </div>
            </th>
            <% end %>
            <% unless @col_sfdc_state %>
            <th>
                <div class="form-group">
                    <%= select_tag :sfdc_state, options_for_select(@selected_data.select(:sfdc_state).map(&:sfdc_state).uniq, params[:sfdc_state]), include_blank: "-- Select --", multiple: true, class: 'selectpicker' %>
                    <br><br>SFDC State
                </div>
            </th>
            <% end %>
            <% unless @col_sfdc_url %>
            <th>
                <div class="form-group">
                    <%= text_field_tag :sfdc_url, params[:sfdc_url], placeholder: "-- Enter Keyword --", class: 'form-control' %>
                    <br><br>SFDC Url
                </div>
            </th>
            <% end %>
            <th colspan="3">
            </th>
        </tr> <!--  -->
    </thead>

    <tbody>
        <% @cores.each do |core| %>
        <tr>
            <td><%= check_box_tag "status_checks[]",  core.id %></td>
            <% unless @col_bds_status %>
            <td><%= core.bds_status %></td>
            <% end %>
            <% unless @col_sfdc_id %>
            <td><%= core.sfdc_id %></td>
            <% end %>
            <% unless @col_sfdc_ult_grp %>
            <td><%= core.sfdc_ult_grp %></td>
            <% end %>
            <% unless @col_sfdc_acct %>
            <td><%= core.sfdc_acct %></td>
            <% end %>
            <% unless @col_sfdc_type %>
            <td><%= core.sfdc_type %></td>
            <% end %>
            <% unless @col_sfdc_street %>
            <td><%= core.sfdc_street %></td>
            <% end %>
            <% unless @col_sfdc_city %>
            <td><%= core.sfdc_city %></td>
            <% end %>
            <% unless @col_sfdc_state %>
            <td><%= core.sfdc_state %></td>
            <% end %>
            <% unless @col_sfdc_url %>
            <td><%= core.sfdc_url %></td>
            <% end %>
            <td><%= link_to 'Show', core %></td>
            <td><%= link_to 'Edit', edit_core_path(core) %></td>
            <td><%= link_to 'Destroy', core, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        </tr>
        <% end %> <!-- @cores.each loop ends -->
    </tbody>
</table>

<div class="pull-left">
    <div class="form-group">
        <%= select_tag :selected_status, options_for_select(status_list, params[:selected_status]), include_blank: '-- Update Domain Status --', class: 'selectpicker' %>
        <%= submit_tag "Filter Columns or Update Status", class: 'btn btn-primary' %>
    </div>
</div>

<% end %> <!-- Filter Headers Form tag ends -->

<div class="pull-right">
    <%= link_to 'Back to Main', root_path, class: 'btn btn-warning' %>
    <%= link_to 'New Core', new_core_path, class: 'btn btn-success' %>
</div>
</br>
</br>
</br>

<%# will_paginate @cores %>
<%= will_paginate @cores, renderer: BootstrapPagination::Rails  %>

</br>
</br>
</br>
</br>
